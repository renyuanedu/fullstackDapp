{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\fullstackDapp\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport factory from '../ethernum/factory';\nimport { Card, Button } from 'semantic-ui-react';\nimport Layout from '../components/layout';\nimport { Link } from '../routes'; // export default ()=>{\n//   return <h1>show mark</h1>\n// }\n\nvar Compaindex = /*#__PURE__*/function (_Component) {\n  _inherits(Compaindex, _Component);\n\n  var _super = _createSuper(Compaindex);\n\n  function Compaindex() {\n    _classCallCheck(this, Compaindex);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Compaindex, [{\n    key: \"renderCampaign\",\n    value: function renderCampaign() {\n      var _this = this;\n\n      var items = this.props.compain.map(function (address) {\n        return {\n          header: address,\n          description: __jsx(Link, {\n            route: \"/comaigns/\".concat(address),\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 25,\n              columnNumber: 21\n            }\n          }, __jsx(\"a\", {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 25,\n              columnNumber: 58\n            }\n          }, \"\\u67E5\\u770B\\u4F17\\u7B79\")),\n          fluid: true\n        };\n      });\n      return __jsx(Card.Group, {\n        centered: true,\n        items: items,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 12\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //return <div>hello index</div>\n      //return <div>{this.props.compain[0]}</div>\n      return __jsx(Layout, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 7\n        }\n      }, __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 7\n        }\n      }, __jsx(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 7\n        }\n      }, \"\\u4F17\\u7B79\\u5217\\u8868\"), __jsx(Link, {\n        route: \"/compaigns/new\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }\n      }, __jsx(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }\n      }, __jsx(Button, {\n        floated: \"right\",\n        content: \"\\u521B\\u5EFA\\u4F17\\u7B79\",\n        icon: \"add\",\n        labelPosition: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 7\n        }\n      }))), this.renderCampaign()));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    // async componentDidMount(){\n    //   const compain = await factory.methods.getDeployedCampain().call();\n    //   console.log(compain);\n    // }\n    value: function getInitialProps() {\n      var compain;\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(factory.methods.getDeployedCampain().call());\n\n            case 2:\n              compain = _context.sent;\n              return _context.abrupt(\"return\", {\n                compain: compain\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }]);\n\n  return Compaindex;\n}(Component);\n\nexport default Compaindex;","map":{"version":3,"sources":["D:/fullstackDapp/pages/index.js"],"names":["React","Component","factory","Card","Button","Layout","Link","Compaindex","items","props","compain","map","address","header","description","fluid","renderCampaign","methods","getDeployedCampain","call"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SAAQC,IAAR,EAAaC,MAAb,QAA0B,mBAA1B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAAQC,IAAR,QAAmB,WAAnB,C,CACA;AACA;AACA;;IAEMC,U;;;;;;;;;;;;;qCAWY;AAAA;;AACd,UAAMC,KAAK,GAAG,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,GAAnB,CAAuB,UAAAC,OAAO,EAAE;AAC5C,eAAM;AACJC,UAAAA,MAAM,EAACD,OADH;AAEJE,UAAAA,WAAW,EAAC,MAAC,IAAD;AAAM,YAAA,KAAK,sBAAeF,OAAf,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAArC,CAFR;AAGJG,UAAAA,KAAK,EAAC;AAHF,SAAN;AAMD,OAPa,CAAd;AAQA,aAAO,MAAC,IAAD,CAAM,KAAN;AAAY,QAAA,QAAQ,MAApB;AAAqB,QAAA,KAAK,EAAEP,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;;6BAEO;AACN;AACA;AAEA,aACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADA,EAGA,MAAC,IAAD;AAAM,QAAA,KAAK,EAAC,gBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,MAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,OAAhB;AAAwB,QAAA,OAAO,EAAC,0BAAhC;AAAwC,QAAA,IAAI,EAAC,KAA7C;AAAmD,QAAA,aAAa,EAAC,MAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADA,CAHA,EAQC,KAAKQ,cAAL,EARD,CADA,CADF;AAcD;;;AAxCD;AACA;AACA;AACA;;;;;;;;+CAGyBd,OAAO,CAACe,OAAR,CAAgBC,kBAAhB,GAAqCC,IAArC,E;;;AAAhBT,cAAAA,O;+CACC;AAACA,gBAAAA,OAAO,EAAPA;AAAD,e;;;;;;;;;;;;EARaT,S;;AA6CzB,eAAeM,UAAf","sourcesContent":["import React,{Component} from 'react';\nimport factory from '../ethernum/factory';\nimport {Card,Button} from 'semantic-ui-react';\nimport Layout from '../components/layout';\nimport {Link} from '../routes';\n// export default ()=>{\n//   return <h1>show mark</h1>\n// }\n\nclass Compaindex extends Component{\n  // async componentDidMount(){\n  //   const compain = await factory.methods.getDeployedCampain().call();\n  //   console.log(compain);\n  // }\n\n  static async getInitialProps(){\n     const compain = await factory.methods.getDeployedCampain().call();\n     return {compain};\n  }\n\n  renderCampaign(){\n    const items = this.props.compain.map(address=>{\n      return{\n        header:address,\n        description:<Link route={`/comaigns/${address}`}><a>查看众筹</a></Link>,\n        fluid:true\n\n      }\n    });\n    return <Card.Group centered items={items} />;\n  }\n\n  render(){\n    //return <div>hello index</div>\n    //return <div>{this.props.compain[0]}</div>\n\n    return (\n      <Layout>\n      <div>\n      <h3>众筹列表</h3>\n\n      <Link route=\"/compaigns/new\">\n      <a>\n      <Button floated='right' content='创建众筹'  icon='add' labelPosition='left'/>\n      </a>\n      </Link>\n      {this.renderCampaign()}\n      </div>\n      </Layout>\n    );\n  }\n\n}\n\nexport default Compaindex;\n"]},"metadata":{},"sourceType":"module"}