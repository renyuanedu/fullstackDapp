{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\"; // 导入的是一个函数,通过函数的中传入的地址获取实例\n\nimport Campaign from \"../../ethernum/campaign\";\nimport Layout from '../../components/Layout';\nimport ContributeFrom from \"../../components/contributeForm\";\nimport web3 from \"../../ethernum/web3\";\nimport { Grid, Button, Card, Column } from \"semantic-ui-react\";\nimport { Link } from '../../routes';\n\nclass Compaignshow extends React.Component {\n  static async getInitialProps(props) {\n    // console.log(props.query.address);\n    //获取众筹的实例，\n    const campaign = Campaign(props.query.address);\n    const summary = await campaign.methods.getSummary().call();\n    return {\n      address: props.query.address,\n      mininumContribute: summary[0],\n      balance: summary[1],\n      requestCount: summary[2],\n      approvesCount: summary[3],\n      manager: summary[4]\n    };\n  }\n\n  renderCards() {\n    const {\n      address,\n      mininumContribute,\n      balance,\n      requestCount,\n      approvesCount,\n      manager\n    } = this.props;\n    const items = [{\n      header: manager,\n      description: \"当前管理者创建了众筹列表，并且是众筹的受益人\",\n      meta: \"管理者的地址\",\n      style: {\n        overflowWrap: 'break-word'\n      }\n    }, {\n      header: mininumContribute,\n      description: \"你想对此众筹投资，就需要至少大于总金额\",\n      meta: \"最小贡献量\",\n      style: {\n        overflowWrap: 'break-word'\n      }\n    }, {\n      header: requestCount,\n      description: \"当前的管理者创建请求从合约中提钱，必须要大于50%的投资人同意\",\n      meta: \"请求数量\",\n      style: {\n        overflowWrap: 'break-word'\n      }\n    }, {\n      header: approvesCount,\n      description: \"已经为当前众筹的投资人的数量\",\n      meta: \"投资人的数量\",\n      style: {\n        overflowWrap: 'break-word'\n      }\n    }, {\n      header: web3.utils.fromWei(balance, \"ether\"),\n      description: \"当前众筹中，还剩下了多少的金额.\",\n      meta: \"众筹总的金额(ether)\",\n      style: {\n        overflowWrap: 'break-word'\n      }\n    }];\n    return __jsx(Card.Group, {\n      items: items\n    });\n  }\n\n  render() {\n    return __jsx(Layout, null, __jsx(\"h1\", null, \"\\u4F17\\u7B79\\u663E\\u793A \"), __jsx(Grid, null, __jsx(Grid.Row, null, __jsx(Grid.Column, {\n      width: 10\n    }, this.renderCards()), __jsx(Grid.Column, {\n      width: 6\n    }, __jsx(ContributeFrom, {\n      address: this.props.address\n    }))), __jsx(Grid.Row, null, __jsx(Grid.Column, null, __jsx(Link, {\n      route: `/compaigns/${this.props.address}/requests`\n    }, __jsx(\"a\", null, __jsx(Button, {\n      primary: true\n    }, \" \\u67E5\\u770B\\u8BF7\\u6C42\")))))));\n  }\n\n}\n\nexport default Compaignshow;","map":{"version":3,"sources":["D:/fullstackDapp/pages/compaigns/show.js"],"names":["React","Campaign","Layout","ContributeFrom","web3","Grid","Button","Card","Column","Link","Compaignshow","Component","getInitialProps","props","campaign","query","address","summary","methods","getSummary","call","mininumContribute","balance","requestCount","approvesCount","manager","renderCards","items","header","description","meta","style","overflowWrap","utils","fromWei","render"],"mappings":"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","sourcesContent":["import React from \"react\";\n// 导入的是一个函数,通过函数的中传入的地址获取实例\nimport Campaign from \"../../ethernum/campaign\";\nimport Layout from '../../components/Layout';\nimport ContributeFrom from \"../../components/contributeForm\";\nimport web3 from \"../../ethernum/web3\";\nimport {Grid,Button,Card,Column} from \"semantic-ui-react\";\nimport {Link} from '../../routes';\n\nclass Compaignshow extends React.Component{\n  static async getInitialProps(props){\n    // console.log(props.query.address);\n    //获取众筹的实例，\n  const campaign =  Campaign(props.query.address);\n  const summary = await campaign.methods.getSummary().call();\n    return {\n      address:props.query.address,\n      mininumContribute:summary[0],\n      balance:summary[1],\n      requestCount:summary[2],\n      approvesCount:summary[3],\n      manager:summary[4],\n    };\n  }\n\n  renderCards(){\n    const {\n      address,\n      mininumContribute,\n      balance,\n      requestCount,\n      approvesCount,\n      manager,\n    }=this.props;\n\n    const items = [\n      {\n        header : manager,\n        description : \"当前管理者创建了众筹列表，并且是众筹的受益人\",\n        meta : \"管理者的地址\",\n        style : {overflowWrap:'break-word'}\n      },\n      {\n        header : mininumContribute,\n        description : \"你想对此众筹投资，就需要至少大于总金额\",\n        meta : \"最小贡献量\",\n        style : {overflowWrap:'break-word'}\n      },\n      {\n        header : requestCount,\n        description : \"当前的管理者创建请求从合约中提钱，必须要大于50%的投资人同意\",\n        meta : \"请求数量\",\n        style : {overflowWrap:'break-word'}\n      },\n      {\n        header : approvesCount,\n        description : \"已经为当前众筹的投资人的数量\",\n        meta : \"投资人的数量\",\n        style : {overflowWrap:'break-word'}\n      },\n      {\n        header : web3.utils.fromWei(balance,\"ether\"),\n        description : \"当前众筹中，还剩下了多少的金额.\",\n        meta : \"众筹总的金额(ether)\",\n        style : {overflowWrap:'break-word'}\n      }\n    ];\n\n    return <Card.Group items={items} />;\n  }\n\n  render(){\n\n    return (\n      <Layout>\n        <h1>众筹显示 </h1>\n        <Grid>\n          <Grid.Row>\n\n            <Grid.Column width={10}>\n              {this.renderCards()}\n\n            </Grid.Column>\n            <Grid.Column width={6}>\n              <ContributeFrom address={this.props.address}/>\n            </Grid.Column>\n          </Grid.Row>\n          <Grid.Row>\n            <Grid.Column>\n              <Link route = {`/compaigns/${this.props.address}/requests`}>\n                <a>\n                  <Button primary> 查看请求</Button>\n                </a>\n              </Link>\n              </Grid.Column>\n          </Grid.Row>\n        </Grid>\n\n      </Layout>\n    );\n  }\n}\n\nexport default Compaignshow;"]},"metadata":{},"sourceType":"module"}